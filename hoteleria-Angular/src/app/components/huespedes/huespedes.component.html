<div class="container-fluid mt-4">
  <h2>Huéspedes</h2>

  <!-- Botón para mostrar formulario -->
  <div class="mb-3">
    <button (click)="toggleForm()" class="btn btn-success">
      <i class="fa fa-plus"></i> Registrar Huésped
    </button>
  </div>

  <!-- Tabla de huéspedes -->
  <table class="table table-striped">
    <thead class="table-dark">
      <tr class="text-center">
        <th scope="col">#</th>
        <th scope="col">Nombre</th>
        <th scope="col">Apellido</th>
        <th scope="col">Email</th>
        <th scope="col">Teléfono</th>
        <th scope="col">Documento</th>
        <th scope="col">Nacionalidad</th>
        <th scope="col">Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr class="text-center" *ngFor="let huesped of huespedes; let i = index">
        <td>{{ i + 1 }}</td>
        <td>{{ huesped.nombre }}</td>
        <td>{{ huesped.apellido }}</td>
        <td>{{ huesped.email }}</td>
        <td>{{ huesped.telefono }}</td>
        <td>{{ huesped.tipoDocumento +' '+ huesped.numeroDocumento }}</td>
        <td>{{ huesped.nacionalidad }}</td>
        <td>
          <button class="btn btn-primary btn-sm me-1" (click)="editHuesped(huesped)">
            <i class="fa fa-edit"></i> Editar
          </button>
          <button class="btn btn-danger btn-sm me-1" (click)="deleteHuesped(huesped.id)">
            <i class="fa fa-trash"></i> Eliminar
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Formulario de huésped -->
  <div *ngIf="showForm" class="card mt-4" style="max-width: 600px; margin: auto">
    <div class="card-header bg-dark text-white text-center">
      <h5 class="mb-0">{{ modalText }}</h5>
    </div>
    <div class="card-body">
      <form [formGroup]="huespedForm" (ngSubmit)="onSubmit()">
        <div class="mb-3">
          <label for="nombre" class="form-label">Nombre</label>
          <input type="text" class="form-control" id="nombre" formControlName="nombre" maxlength="100" required>
        </div>

        <div class="mb-3">
          <label for="apellido" class="form-label">Apellido</label>
          <input type="text" class="form-control" id="apellido" formControlName="apellido" maxlength="100" required>
        </div>

        <div class="mb-3">
          <label for="email" class="form-label">Email</label>
          <input type="email" class="form-control" id="email" formControlName="email" maxlength="100" required>
        </div>

        <div class="mb-3">
          <label for="telefono" class="form-label">Teléfono</label>
          <input type="text" class="form-control" id="telefono" formControlName="telefono" maxlength="15" required>
        </div>

        <div class="mb-3">
          <label for="tipoDocumento" class="form-label">Tipo de Documento</label>
          <select class="form-select" id="tipoDocumento" formControlName="tipoDocumento" required>
            <option value="" disabled selected>Seleccione tipo</option>
            <option value="INE">INE</option>
            <option value="Pasaporte">Pasaporte</option>
          </select>
        </div>

        <div class="mb-3">
          <label for="numeroDocumento" class="form-label">Número de Documento</label>
          <input type="text" class="form-control" id="numeroDocumento" formControlName="numeroDocumento" maxlength="20" required>
        </div>

        <div class="mb-3">
          <label for="nacionalidad" class="form-label">Nacionalidad</label>
          <input type="text" class="form-control" id="nacionalidad" formControlName="nacionalidad" maxlength="50" required>
        </div>

        <div class="d-flex justify-content-end">
          <button type="submit" class="btn btn-success px-4" [disabled]="huespedForm.invalid">
            Guardar
          </button>
        </div>
      </form>
    </div>
  </div>
</div>